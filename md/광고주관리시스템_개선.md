이 문서는 **"마케터가 수백 명의 광고주를 한눈에 파악하고, 클릭 몇 번으로 월간 업무를 끝내는 것"**에 초점을 맞췄습니다.

---

# 📑 [PRD] 광고주 관리 시스템: 스마트 현황판 & 상태 자동화

**문서 번호:** WCM_MVP_Feature_Advertiser_Dashboard_v1.0
**작성일:** 2025.12.11
**목표:** 단순 목록 조회 기능을 넘어, **월별 운영 현황을 실시간으로 파악**하고 마케터의 행동에 따라 **상태가 자동으로 갱신되는 관제탑(Control Tower)**을 구축한다.

---

## 1. 🖥️ UI/UX: 리스트 뷰 (List View) 설계

기존 카드 뷰(Card View)는 유지하되, 대규모 관리를 위한 **리스트 뷰(List View)**를 기본 모드로 도입합니다.

### A. 상단 컨트롤 바 (Control Bar) - *핵심 기능*
페이지 진입 시 가장 먼저 마주하는 영역으로, 데이터 조회 기준을 설정합니다.

1.  **뷰 모드 토글:** `[▦ 카드 보기]` ↔ **`[≡ 리스트 보기]`** (리스트 뷰를 Default로 설정 권장)
2.  **월 선택 (Month Picker):** `[ < ] 2025년 12월 [ > ]`
    * *Logic:* 선택한 '년-월'의 `contents` 데이터 유무와 상태를 기준으로 아래 리스트 내용을 갱신합니다.
3.  **상태 탭 (Status Tabs):**
    * `전체 (100)` | `🔴 기획 필요 (20)` | `🟡 컨펌 대기 (30)` | `🔵 수정 요청 (5)` | `🟢 배포 준비 (45)`
    * *Action:* 탭 클릭 시 해당 상태의 광고주만 필터링.

### B. 데이터 그리드 (Data Grid) 컬럼 정의

| 컬럼명 | 표시 데이터 | UI 가이드 |
| :--- | :--- | :--- |
| **[Chk]** | 다중 선택 체크박스 | 전체 선택 기능 포함 |
| **광고주 정보** | 업체명 + 업종 태그 | **혜성플러스의원** (내과/피부과) |
| **이번 달 상태** | **시스템 자동 판단 값** | `🟡 컨펌 대기` (컬러 뱃지로 시각화) |
| **진행률 (Progress)** | 승인된 콘텐츠 수 / 전체 기획 수 | `▮▮▮▮▯` (4/5건 승인) |
| **최근 활동 (Logs)** | 시스템/유저 로그의 마지막 기록 | "12.11 14:00 알림톡 발송함" (회색 텍스트) |
| **배포일** | 이번 달 첫 배포일 ~ 마지막 배포일 | `12.01 ~ 12.31` |
| **관리** | 액션 버튼 그룹 | `[캘린더 가기]` `[수정]` |

---

## 2. 🧠 Logic: 상태 자동 전환 (Auto-Transition)

마케터가 수동으로 상태를 변경하지 않습니다. **행동(Action)에 따라 상태(Status)가 자동으로 업데이트**됩니다.

### 상태 정의 및 전환 규칙 (Transition Rules)

**1. 🔴 기획 필요 (Status: EMPTY)**
* **정의:** 선택한 월에 생성된 콘텐츠가 0개인 상태.
* **전환 조건:** 월이 바뀌거나 신규 광고주 등록 시 초기값.

**2. 🟠 제작 중 (Status: DRAFTING)**
* **정의:** 콘텐츠가 1개 이상 생성되었으나, 아직 고객에게 발송하지 않은 상태.
* **Trigger:** '대량 생산' 또는 '개별 에디터'에서 콘텐츠 생성 완료 시 전환.

**3. 🟡 컨펌 대기 (Status: PENDING)**
* **정의:** 고객에게 '기획안 확인 링크(알림톡)'가 발송된 상태.
* **Trigger:** 리스트 하단의 `[컨펌 요청 발송]` 버튼 클릭 시 전환.

**4. 🔵 수정 요청 (Status: REVISION) - *긴급***
* **정의:** 고객이 기획안을 보고 '수정 요청'을 보낸 상태.
* **Trigger:** 고객 뷰어에서 '수정 요청' 버튼 클릭 시 즉시 전환 & 리스트 최상단 노출.

**5. 🟢 배포 준비 (Status: READY)**
* **정의:** 이번 달 기획된 모든 콘텐츠가 '승인'된 상태.
* **Trigger:** 고객 뷰어에서 모든 콘텐츠가 '승인(Approved)' 처리되면 전환.

---

## 3. 🚀 Bulk Actions (일괄 작업)

리스트에서 다중 선택(`Chk`) 후 하단 **플로팅 바(Floating Bar)**를 통해 실행합니다.

1.  **`[선택한 N명 템플릿 적용]`**
    * *대상:* 주로 `🔴 기획 필요` 상태인 광고주.
    * *Action:* '대량 생산 워크스페이스'로 이동하며 선택한 광고주 ID들을 넘김.
2.  **`[선택한 N명 컨펌 요청 발송]`**
    * *대상:* `🟠 제작 중` 상태인 광고주.
    * *Action:* 카카오톡 알림톡(공유 링크) 일괄 발송 API 호출.
    * *Validation:* 콘텐츠가 없는 광고주가 포함된 경우 "발송 제외" 안내.

---

## 4. 👨‍💻 개발팀 전달 사항 (Action Items)

### [Backend]
1.  **상태 조회 쿼리 최적화:** `advertisers` 테이블 조회 시, `contents` 테이블을 Join하여 해당 월의 개수 및 상태(`draft`, `pending`, `approved`)를 집계하고, 위 규칙에 따라 **가상 컬럼(`monthly_status`)**을 반환해주세요.
2.  **로그 시스템:** '최근 활동' 표시를 위해 `activity_logs` 테이블에 주요 액션(생성, 발송, 승인, 수정요청)을 기록해주세요.

### [Frontend]
1.  **월 선택기(Month Picker) 상태 관리:** 이 값이 변하면 리스트 전체 데이터를 리페치(Refetch)해야 합니다.
2.  **상태 뱃지 컴포넌트:** 각 상태별 컬러 코드(Red, Orange, Yellow, Blue, Green)를 명확히 구분하여 디자인해주세요.

